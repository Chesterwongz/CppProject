name: RepoSense Action

on:
  # For active deployment on push to master branch
#  push:
#    branches:
#      - master
  workflow_dispatch:
  schedule:
    - cron:  '0 0 * * *'

# For scheduled deployment with Cron Jobs.
## Examples of cron schedule expressions:
### '0 * * * *': hourly
### '0 0 * * *': daily
### '0 0 1 * *': monthly

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: reposense/reposense-action@v1.1.0
        with:
          token: ${{ secrets.SURGE_TOKEN  }} # Required
          version: 'release' # Optional | Default: release | Other: master/tag v1.6.1/etc
          service: 'surge' # Optional | Default: gh-pages | Other: surge
          domain: '23s1-cp-spa-team-12.surge.sh' # Optional (Required if service = surge) | Default: '' | Other: '<subDomain>.surge.sh'
          cliArgs: '--since d1'